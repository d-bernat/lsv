<div ng-controller="mainCtrl" ng-include src="'app/views/pages/intern_menu.html'"></div>
<br><br>
<div class="row">
    <div class="col-xs-6 col-xs-offset-3 col-md-5 col-md-offset-4 col-sm-6 col-sm-offset-3">
        <h4 class="text-center login-title" style="color: #337ab7">
            LSV-Buchungssystem für Streckensegelflugzeuge
        </h4>
        <a href="" ng-click="showInfo = !showInfo;"><h5 class="text-center">
            <span class="glyphicon glyphicon-info-sign" ng-show="!showInfo"></span>
            <span class="glyphicon glyphicon-remove-sign" ng-show="showInfo"></span>
            <i> Informationen zur Buchung von
                Segelflugzeugen</i></h5></a>
        <div ng-show="showInfo">
            <p>
                Jeder eingeloggte Pilot kann bei entsprechender Berechtigung Buchungen ins System eintragen.
                Das System prüft, ob der gewünschte Zeitraum noch frei ist und trägt die Buchung mit einem optionalen
                Kommentar in die Liste ein. Außerdem wird dem Buchenden eine email zu Bestätigung an die im System
                hinterlegte Adresse geschickt. Buchungen sind nur möglich, wenn sie auch den LSV-Buchungsregeln
                entsprechen:
            <ul>
                <li>nicht mehr als eine Buchung zur Zeit im System</li>
                <li>keine Löschung eines gebuchten Termins am Tag der Buchung vor 20:00 Uhr</li>
            </ul>
            <b>Will man gegen die Regeln buchen, so kann man beim Vorstand nachfragen.</b>
            <br>Alle eigenen Buchungen können mit o.g. Ausnahme jederzeit gelöscht werden.
            </p>
        </div>
    </div>
</div>
<div class="col-xs-4 col-xs-offset-5 col-sm-4 col-sm-offset-5 col-md-5 col-md-offset-4 main">
    <route-loading-indicator></route-loading-indicator>
    <br>
    <div class="row" ng-if="!isRouteLoading">
        <form name="bookForm" class="form-signin">
            <table class="table-responsive" ng-show="loaded">
                <thead>
                <tr>
                    <th style="width: 20rem" ng-show="!dateRangeAllowed">Datum</th>
                    <th style="width: 20rem" ng-show="dateRangeAllowed">Datum (von - bis)</th>
                    <th style="width: 20rem">Flugzeug</th>
                    <th style="width: 10rem"></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <table>
                            <tr>
                                <td>
                                    <div>
                                        <table class="table-responsive">
                                            <tr>
                                                <td style="width: 20rem"><input name="mobile" type="text"
                                                           class="form-control center-block look-editable"
                                                           ng-model="book.bookData.range"
                                                           ng-value="getRangeDateValue()"
                                                           required readonly
                                                           ng-click="showDatePicker = !showDatePicker">
                                                </td>
                                                <td>
                                                    <label class="btn btn-default btn-outline btn-block" type="button"
                                                            ng-click="showDatePicker = !showDatePicker">
                                                        <span class="glyphicon glyphicon-calendar"
                                                              ng-show="!showDatePicker"></span>
                                                        <span class="glyphicon glyphicon-remove"
                                                              ng-show="showDatePicker"></span>
                                                    </label>
                                                </td>
                                            </tr>

                                        </table>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        <select class="form-control" ng-model="book.bookData.selectedPlane">
                            <option ng-repeat="plane in planes" ng-show="plane.plane_type === 'GLIDER'" label="{{plane.name + ' (' + plane.registration +')'}}" ng-value="plane" ng-selected="$first"></option>

                        </select>
                    </td>
                    <td>
                        <label class="btn btn-info btn-outline btn-block" ng-click="showDatePicker = false; book.bookGlider();">
                            <span class="glyphicon glyphicon-ok"></span> Buchen
                        </label>
                    </td>
                </tr>
                </tbody>
            </table>
        </form>
        <div ng-include src="'app/views/pages/datepicker.html'"
             ng-show="showDatePicker"></div>
    </div>
</div>
